<?xml version="1.0" encoding="UTF-8"?>
<beans 
  xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:context="http://www.springframework.org/schema/context"
  xmlns:tx="http://www.springframework.org/schema/tx"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

<bean id="TestJobQueue" class="com.rapidbackend.redisqueue.RedisQueue">
  <property name="queueMapper" ref="SimpleQueueMapper"></property>
</bean>

<bean id="TestRedisQueueService" class="com.rapidbackend.redisqueue.RedisQueueService">
  <property name="redisQueue" ref="TestJobQueue"></property>
  <property name="queueProcessors">
    <list>
      <ref bean="QueueProcessor" />
    </list>
  </property>
</bean>

<bean id="RedisInstanceForQueueTesting" class="com.rapidbackend.cache.RedisCache">
</bean>

<bean id="QueueProcessor" class="com.rapidbackend.redisqueue.RedisQueueProcessor">
  <property name="queueName" value="jobqueue"></property>
  <property name="redisConfig" ref="RedisQueueDB"></property>
  <property name="queueProcessorName" value="jobqueueProcessor"></property>
  <property name="handlerBeanName" value="QueueTestPollHandler"></property>
</bean>
<bean id="RedisPoolContainerFactory" class="com.rapidbackend.util.comm.redis.client.RedisPoolContainerFactory">
   <property name="redisPoolConfigs">
   <list>
     <ref bean="RedisQueueDB"></ref>
   </list>
   </property>
</bean>
<bean id="RedisQueueDB" class="com.rapidbackend.util.comm.redis.client.RedisPoolConfig">
    <property name="port" value="6374"></property>
    <property name="hostAddress" value="192.168.135.138"></property>
    <property name="targetName" value="redisQueueDB"></property>
    <property name="poolCapacity" value="1"></property>
</bean>
<bean id="QueueTestPollHandler" class="com.rapidbackend.redisqueue.QueueTestPollHandler">
</bean>
<bean id="SimpleQueueMapper" class="com.rapidbackend.redisqueue.SimpleQueueMapper">
    <property name="redisTargetName" value="redisQueueDB"></property>
    <property name="queueName" value="jobqueue"></property>
</bean>
</beans>