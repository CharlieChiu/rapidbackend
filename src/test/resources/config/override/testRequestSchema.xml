<?xml version="1.0" encoding="UTF-8"?>
<beans 
  xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:context="http://www.springframework.org/schema/context"
  xmlns:tx="http://www.springframework.org/schema/tx"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">


<bean id="SchemaTestSchema" class="com.rapidbackend.core.request.RequestSchema">
  <property name="requiredParams" value="userId,content"></property>
  <property name="optionalParams" value="indexFeed,attachment"></property>
</bean>

<bean id="MultimdSchema" class="com.rapidbackend.core.request.RequestSchema">
  <property name="requiredParams" value="userId|feedId,content"></property>
  <property name="optionalParams" value="indexFeed,attachment"></property>
</bean>
<bean id="EchoContentSchema" class="com.rapidbackend.core.request.RequestSchema">
  <property name="requiredParams" value="content"></property>
</bean>

<!-- param beans that can be reused in different requests -->
<bean id="userId" class="com.rapidbackend.core.request.IntParam">
  <property name="name" value="userId"></property>
</bean>
<bean id="feedId" class="com.rapidbackend.core.request.IntParam">
  <property name="name" value="fid"></property>
</bean>
<bean id="feedIds" class="com.rapidbackend.core.request.IntListParam">
  <property name="name" value="f"></property><!-- shorten request length -->
</bean>
<bean id="content" class="com.rapidbackend.core.request.StringParam">
  <property name="name" value="content"></property>
</bean>
<bean id="attachment" class="com.rapidbackend.core.request.StringParam">
  <property name="name" value="attachment"></property>
</bean>
<bean id="userName" class="com.rapidbackend.core.request.StringParam">
  <property name="name" value="userName"></property>
</bean>
<bean id="password" class="com.rapidbackend.core.request.StringParam">
  <property name="name" value="password"></property>
</bean>
<bean id="start" class="com.rapidbackend.core.request.IntParam">
  <property name="name" value="start"></property>
</bean>
<bean id="limit" class="com.rapidbackend.core.request.IntParam">
  <property name="name" value="limit"></property>
</bean>
<bean id="pageSize" class="com.rapidbackend.core.request.IntParam">
  <property name="name" value="pageSize"></property>
</bean>
<bean id="indexFeed" class="com.rapidbackend.core.request.IntParam">
  <property name="name" value="indexFeed"></property>
</bean>

<bean id="EchoContentPipeline" class="com.rapidbackend.core.process.StandardPipeline">
    <property name="handlers">
        <list>
            <ref bean="EchoContentHandler"></ref>
        </list>
    </property>
</bean>
<bean id="SchemaTestPipeline" class="com.rapidbackend.core.process.StandardPipeline">
    <property name="handlers">
        <list>
            <ref bean="EmptyHandler"></ref>
        </list>
    </property>
</bean>
<bean id="MultimdPipeline" class="com.rapidbackend.core.process.StandardPipeline">
    <property name="handlers">
        <list>
            <ref bean="EmptyHandler"></ref>
        </list>
    </property>
</bean>

<bean id="EmptyHandler" class="com.rapidbackend.core.request.EmptyHandler">
</bean>

<bean id="EchoContentHandler" class="com.rapidbackend.core.request.EchoContentHandler">
</bean>

</beans>