<?xml version="1.0" encoding="UTF-8"?>

<beans 
  xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:context="http://www.springframework.org/schema/context"
  xmlns:tx="http://www.springframework.org/schema/tx"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">
<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
    <property name="driverClass" value="com.mysql.jdbc.Driver"/>
    <property name="jdbcUrl" value="jdbc:mysql://127.0.0.1:3306/meili?characterEncoding=utf-8"/>
    <property name="user" value="root"/>
    <property name="password" value="111111"/>
    <property name="maxIdleTime" value="28000"/>
    <property name="maxConnectionAge" value="28000"/>
  </bean>
  <bean id="transactionTemplate" class="org.springframework.transaction.support.TransactionTemplate">
    <property name="transactionManager" ref="transactionManager"/>
  </bean>
<!-- Transaction manager for a single JDBC DataSource -->
  <bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
    <property name="dataSource" ref="dataSource"/>
  </bean>
  
  <!-- Activates @Transactional for DefaultImageDatabase -->
  <tx:annotation-driven transaction-manager="transactionManager"/>
  
  <!-- DAO RELATED START -->
  <bean id="defaultLobHandler" class="org.springframework.jdbc.support.lob.DefaultLobHandler" lazy-init="true"/>
  
  <bean id="simpleJdbcTemplate" name="simpleJdbcTemplate"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
  
  <bean id="jdbcTemplate" name="jdbcTemplate"
    class="org.springframework.jdbc.core.JdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    <bean id="insertComment" name="insertComment"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="comment"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateComment" name="jdbcTemplateComment"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="CommentDao" name="CommentDao"
    class="com.rapidbackend.socialutil.dao.CommentDao">
    <property name="tableName" value="comment"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateComment"></property>
    <property name="simpleJdbcInsert" ref="insertComment"></property>
  </bean>
    
    <bean id="insertDislike" name="insertDislike"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="dislike"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateDislike" name="jdbcTemplateDislike"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="DislikeDao" name="DislikeDao"
    class="com.rapidbackend.socialutil.dao.DislikeDao">
    <property name="tableName" value="dislike"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateDislike"></property>
    <property name="simpleJdbcInsert" ref="insertDislike"></property>
  </bean>
    
    <bean id="insertFeed" name="insertFeed"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="feed"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateFeed" name="jdbcTemplateFeed"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="FeedDao" name="FeedDao"
    class="com.rapidbackend.socialutil.dao.FeedDao">
    <property name="tableName" value="feed"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateFeed"></property>
    <property name="simpleJdbcInsert" ref="insertFeed"></property>
  </bean>
    
    <bean id="insertFeedsbyfollowable" name="insertFeedsbyfollowable"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="feedsbyfollowable"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateFeedsbyfollowable" name="jdbcTemplateFeedsbyfollowable"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="FeedsbyfollowableDao" name="FeedsbyfollowableDao"
    class="com.rapidbackend.socialutil.dao.FeedsbyfollowableDao">
    <property name="tableName" value="feedsbyfollowable"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateFeedsbyfollowable"></property>
    <property name="simpleJdbcInsert" ref="insertFeedsbyfollowable"></property>
  </bean>
    
    <bean id="insertFeedsource" name="insertFeedsource"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="feedsource"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateFeedsource" name="jdbcTemplateFeedsource"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="FeedsourceDao" name="FeedsourceDao"
    class="com.rapidbackend.socialutil.dao.FeedsourceDao">
    <property name="tableName" value="feedsource"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateFeedsource"></property>
    <property name="simpleJdbcInsert" ref="insertFeedsource"></property>
  </bean>
    
    <bean id="insertFollowable" name="insertFollowable"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="followable"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateFollowable" name="jdbcTemplateFollowable"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="FollowableDao" name="FollowableDao"
    class="com.rapidbackend.socialutil.dao.FollowableDao">
    <property name="tableName" value="followable"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateFollowable"></property>
    <property name="simpleJdbcInsert" ref="insertFollowable"></property>
  </bean>
    
    <bean id="insertFollowabledescriptor" name="insertFollowabledescriptor"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="followabledescriptor"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateFollowabledescriptor" name="jdbcTemplateFollowabledescriptor"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="FollowabledescriptorDao" name="FollowabledescriptorDao"
    class="com.rapidbackend.socialutil.dao.FollowabledescriptorDao">
    <property name="tableName" value="followabledescriptor"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateFollowabledescriptor"></property>
    <property name="simpleJdbcInsert" ref="insertFollowabledescriptor"></property>
  </bean>
    
    <bean id="insertFollowablesubscription" name="insertFollowablesubscription"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="followablesubscription"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateFollowablesubscription" name="jdbcTemplateFollowablesubscription"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="FollowablesubscriptionDao" name="FollowablesubscriptionDao"
    class="com.rapidbackend.socialutil.dao.FollowablesubscriptionDao">
    <property name="tableName" value="followablesubscription"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateFollowablesubscription"></property>
    <property name="simpleJdbcInsert" ref="insertFollowablesubscription"></property>
  </bean>
    
        
    <bean id="insertLike" name="insertLike"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="like"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateLike" name="jdbcTemplateLike"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="LikeDao" name="LikeDao"
    class="com.rapidbackend.socialutil.dao.LikeDao">
    <property name="tableName" value="like"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateLike"></property>
    <property name="simpleJdbcInsert" ref="insertLike"></property>
  </bean>
    
    <bean id="insertOauthapplication" name="insertOauthapplication"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="oauthapplication"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateOauthapplication" name="jdbcTemplateOauthapplication"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="OauthapplicationDao" name="OauthapplicationDao"
    class="com.rapidbackend.socialutil.dao.OauthapplicationDao">
    <property name="tableName" value="oauthapplication"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateOauthapplication"></property>
    <property name="simpleJdbcInsert" ref="insertOauthapplication"></property>
  </bean>
    
    <bean id="insertOauthapplicationuser" name="insertOauthapplicationuser"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="oauthapplicationuser"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateOauthapplicationuser" name="jdbcTemplateOauthapplicationuser"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="OauthapplicationuserDao" name="OauthapplicationuserDao"
    class="com.rapidbackend.socialutil.dao.OauthapplicationuserDao">
    <property name="tableName" value="oauthapplicationuser"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateOauthapplicationuser"></property>
    <property name="simpleJdbcInsert" ref="insertOauthapplicationuser"></property>
  </bean>
    
    <bean id="insertOauthtokenassociation" name="insertOauthtokenassociation"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="oauthtokenassociation"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateOauthtokenassociation" name="jdbcTemplateOauthtokenassociation"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="OauthtokenassociationDao" name="OauthtokenassociationDao"
    class="com.rapidbackend.socialutil.dao.OauthtokenassociationDao">
    <property name="tableName" value="oauthtokenassociation"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateOauthtokenassociation"></property>
    <property name="simpleJdbcInsert" ref="insertOauthtokenassociation"></property>
  </bean>
    
    <bean id="insertOutbox" name="insertOutbox"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="outbox"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateOutbox" name="jdbcTemplateOutbox"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="OutboxDao" name="OutboxDao"
    class="com.rapidbackend.socialutil.dao.OutboxDao">
    <property name="tableName" value="outbox"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateOutbox"></property>
    <property name="simpleJdbcInsert" ref="insertOutbox"></property>
  </bean>
    
    <bean id="insertProfile" name="insertProfile"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="profile"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateProfile" name="jdbcTemplateProfile"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="ProfileDao" name="ProfileDao"
    class="com.rapidbackend.socialutil.dao.ProfileDao">
    <property name="tableName" value="profile"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateProfile"></property>
    <property name="simpleJdbcInsert" ref="insertProfile"></property>
  </bean>
    
    <bean id="insertPullfeed" name="insertPullfeed"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="pullfeed"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplatePullfeed" name="jdbcTemplatePullfeed"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="PullfeedDao" name="PullfeedDao"
    class="com.rapidbackend.socialutil.dao.PullfeedDao">
    <property name="tableName" value="pullfeed"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplatePullfeed"></property>
    <property name="simpleJdbcInsert" ref="insertPullfeed"></property>
  </bean>
    
    <bean id="insertSubscription" name="insertSubscription"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="subscription"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateSubscription" name="jdbcTemplateSubscription"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="SubscriptionDao" name="SubscriptionDao"
    class="com.rapidbackend.socialutil.dao.SubscriptionDao">
    <property name="tableName" value="subscription"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateSubscription"></property>
    <property name="simpleJdbcInsert" ref="insertSubscription"></property>
  </bean>
    
    <bean id="insertUser" name="insertUser"
    class="org.springframework.jdbc.core.simple.SimpleJdbcInsert">
    <constructor-arg ref="dataSource"></constructor-arg>
    <property name="tableName" value="user"></property>
    <property name="generatedKeyNames" value="id"></property>
  </bean>
    
    <bean id="jdbcTemplateUser" name="jdbcTemplateUser"
    class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate">
    <constructor-arg ref="dataSource"></constructor-arg>
  </bean>
    
    <bean id="UserDao" name="UserDao"
    class="com.rapidbackend.socialutil.dao.UserDao">
    <property name="tableName" value="user"></property>
    <property name="simpleJdbcTemplate" ref="jdbcTemplateUser"></property>
    <property name="simpleJdbcInsert" ref="insertUser"></property>
  </bean>
    </beans>